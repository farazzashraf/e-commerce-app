{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>Sign Up</title>
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="stylesheet"
              href="{% static 'css/auth.css' %} ?v={{ timestamp }}">
        <script type="module" src="{% static 'js/firebase-config.js' %}" defer></script>
        <script type="module" src="{% static 'js/signup.js' %}" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
                defer></script>
    </head>
    <body>
        <div class="auth-container">
            <div class="auth-header">
                <img src="{% static 'images/logo1.jpg' %}"
                     alt="Thrift Shop Logo"
                     class="brand-logo">
                <h1>Create Account</h1>
                <p>Please sign in to continue</p>
            </div>
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>
            <form id="signupForm" method="POST">
                {% csrf_token %}
                <div class="form-group">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text"
                           id="name"
                           class="form-input"
                           placeholder="Enter your full name"
                           required>
                </div>
                <div class="form-group">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel"
                           id="phone"
                           class="form-input"
                           placeholder="Enter your phone number"
                           required>
                </div>
                <div class="form-group">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email"
                           id="email"
                           class="form-input"
                           placeholder="Enter your email"
                           required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <!-- <input type="password"
        id="password"
        class="form-input"
        placeholder="Create a password"
        required> -->
                    <div class="password-container">
                        <input type="password"
                               id="password"
                               class="form-input"
                               placeholder="Enter your password"
                               required>
                        <button type="button" class="toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                        <!-- <p id="strengthIndicator"></p> -->
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword" class="form-label">Confirm Password</label>
                    <input type="password"
                           id="confirmPassword"
                           class="form-input"
                           placeholder="Confirm your password"
                           required>
                </div>
                <button type="submit" id="signupButton" class="auth-button">
                    <span class="button-text">Create Account</span>
                    <div class="spinner"></div>
                </button>
                <!-- Google Sign-In Button with Alpine.js -->
                <button type="button"
                        id="googleLoginButton"
                        class="google-auth-button flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-100 transition-all duration-300"
                        x-data="{ loading: false }"
                        @click="loading = true">
                    <svg x-show="!loading"
                         xmlns="http://www.w3.org/2000/svg"
                         width="20"
                         height="20"
                         viewBox="0 0 48 48">
                        <path fill="#4285F4" d="M23.5 13.9h16.6c.2 1 .3 2 .3 3 0 5.7-2 10.6-5.5 14.4l-.1.1-6.7-5.2c2.1-1.3 3.7-3.1 4.6-5.2h-8.6v-7.1z">
                        </path>
                        <path fill="#34A853" d="M41.1 13.9l-6.7 5.2c-1.1-1.9-2.6-3.6-4.6-4.7l6.7-5.2c2.7 2.5 4.5 5.7 4.6 9.7z"></path>
                        <path fill="#FBBC05" d="M16.5 23.5c-.6-1.7-.9-3.5-.9-5.4s.3-3.7.9-5.4l6.7 5.2c-.3.7-.4 1.4-.4 2.2s.1 1.5.4 2.2l-6.7 5.2z">
                        </path>
                        <path fill="#EA4335" d="M16.5 13.9l-6.7-5.2c2.7-2.5 6.2-4.2 10.2-4.2 3.5 0 6.8 1.3 9.4 3.5l-6.7 5.2c-1.2-1-2.7-1.5-4.2-1.5-1.5 0-3 .5-4.2 1.5z">
                        </path>
                    </svg>
                    <span x-show="!loading">Sign in with Google</span>
                    <!-- Loading Spinner -->
                    <div x-show="loading" class="loader"></div>
                </button>
            </form>
            <div id="verificationForm" style="display: none;">
                <h2>Verify Your Email</h2>
                <p>A verification code has been sent to your email. Please enter it below to confirm your email address.</p>
                <div class="form-group">
                    <label for="verificationCode" class="form-label">Verification Code</label>
                    <input type="text"
                           id="verificationCode"
                           class="form-input"
                           placeholder="Enter verification code"
                           required>
                </div>
                <button type="submit" id="verifyButton" class="auth-button">
                    <span class="button-text">Verify</span>
                </button>
                <div class="error-message"
                     id="verificationErrorMessage"
                     style="display: none"></div>
            </div>
            <div class="auth-links">
                <a href="/login">Already have an account? Sign In</a>
            </div>
        </div>
    </div>
</body>
</html>
